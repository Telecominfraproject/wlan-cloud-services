openapi: 3.0.3
info:
  title: CloudSDK System Event API
  description: APIs that provide services for creating, deleting and retrieving history of system events.
  version: 1.0.0
servers:
  - url: https://localhost:9091
    description: Local Dev server
  - url: https://10.0.0.61:9091
    description: Local Dev server - all-in-one
  - url: https://192.168.0.143:9051
    description: Local Dev server - portal, prov, and ssc
    
tags:
- name: Data Model Overview
- name: System Event Data
  
    
components:
  securitySchemes:
    tip_wlan_ts_auth:
      type: http
      scheme: bearer
      
  responses:
    GenericApiError:
      description: this object is returned in the cases when an API throws an exception
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/JsonSerializedException'
            
  schemas:
    
#
#Generic data models used for many APIs
#
    GenericResponse:
      properties:
        message:
          type: string
        success:
          type: boolean
          
    JsonSerializedException:
      description: this object is returned in the cases when an API throws an exception
      properties:
        exType:
          type: string
          enum:
            - IllegalStateException
        error:
          description: error message
          type: string
        path:
          description: API path with parameters that produced the exception
          type: string
        timestamp:
          description: time stamp of when the exception was generated
          type: integer
          format: int64
          
#
# System Event Data Models
#
    SystemEventDataType:
      type: string
      enum:
      - GatewayAddedEvent
      - GatewayChangedEvent
      - GatewayRemovedEvent
      - ClientAddedEvent
      - ClientChangedEvent
      - ClientRemovedEvent
      - CustomerAddedEvent
      - CustomerChangedEvent
      - CustomerRemovedEvent
      - FirmwareAddedEvent
      - FirmwareChangedEvent
      - FirmwareRemovedEvent
      - LocationAddedEvent
      - LocationChangedEvent
      - LocationRemovedEvent
      - PortalUserAddedEvent
      - PortalUserChangedEvent
      - PortalUserRemovedEvent
      - ProfileAddedEvent
      - ProfileChangedEvent
      - ProfileRemovedEvent
      - RoutingAddedEvent
      - RoutingChangedEvent
      - RoutingRemovedEvent
      - AlarmAddedEvent
      - AlarmChangedEvent
      - AlarmRemovedEvent
      - ClientSessionAddedEvent
      - ClientSessionChangedEvent
      - ClientSessionRemovedEvent
      - EquipmentAddedEvent
      - EquipmentChangedEvent
      - EquipmentRemovedEvent
      - StatusChangedEvent
      - StatusRemovedEvent
      - UnserializableSystemEvent
 
    SystemEventRecord:
      type: object
      properties:
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        dataType:
          $ref: '#/components/schemas/SystemEventDataType'
        eventTimestamp:
          type: integer
          format: int64
        details:
          $ref: '#/components/schemas/SystemEvent'
        
    SystemEvent:
      oneOf:
        - $ref: '#/components/schemas/GatewayAddedEvent'
        - $ref: '#/components/schemas/GatewayChangedEvent'
        - $ref: '#/components/schemas/GatewayRemovedEvent'
        - $ref: '#/components/schemas/ClientAddedEvent'
        - $ref: '#/components/schemas/ClientChangedEvent'
        - $ref: '#/components/schemas/ClientRemovedEvent'
        - $ref: '#/components/schemas/CustomerAddedEvent'
        - $ref: '#/components/schemas/CustomerChangedEvent'
        - $ref: '#/components/schemas/CustomerRemovedEvent'
        #TODO: add this - $ref: '#/components/schemas/FirmwareAddedEvent'
        #TODO: add this - $ref: '#/components/schemas/FirmwareChangedEvent'
        #TODO: add this - $ref: '#/components/schemas/FirmwareRemovedEvent'
        - $ref: '#/components/schemas/LocationAddedEvent'
        - $ref: '#/components/schemas/LocationChangedEvent'
        - $ref: '#/components/schemas/LocationRemovedEvent'
        - $ref: '#/components/schemas/PortalUserAddedEvent'
        - $ref: '#/components/schemas/PortalUserChangedEvent'
        - $ref: '#/components/schemas/PortalUserRemovedEvent'
        - $ref: '#/components/schemas/ProfileAddedEvent'
        - $ref: '#/components/schemas/ProfileChangedEvent'
        - $ref: '#/components/schemas/ProfileRemovedEvent'
        - $ref: '#/components/schemas/RoutingAddedEvent'
        - $ref: '#/components/schemas/RoutingChangedEvent'
        - $ref: '#/components/schemas/RoutingRemovedEvent'
        - $ref: '#/components/schemas/AlarmAddedEvent'
        - $ref: '#/components/schemas/AlarmChangedEvent'
        - $ref: '#/components/schemas/AlarmRemovedEvent'
        - $ref: '#/components/schemas/ClientSessionChangedEvent'
        - $ref: '#/components/schemas/ClientSessionRemovedEvent'
        - $ref: '#/components/schemas/EquipmentAddedEvent'
        - $ref: '#/components/schemas/EquipmentChangedEvent'
        - $ref: '#/components/schemas/EquipmentRemovedEvent'
        - $ref: '#/components/schemas/StatusChangedEvent'
        - $ref: '#/components/schemas/StatusRemovedEvent'
        - $ref: '#/components/schemas/UnserializableSystemEvent'
      discriminator:
        propertyName: model_type
        
    GatewayAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        gateway:
          $ref: '#/components/schemas/EquipmentGatewayRecord'
 
    GatewayChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        gateway:
          $ref: '#/components/schemas/EquipmentGatewayRecord'
 
    GatewayRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        gateway:
          $ref: '#/components/schemas/EquipmentGatewayRecord'
          
    RoutingAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/EquipmentRoutingRecord'
 
    RoutingChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/EquipmentRoutingRecord'
 
    RoutingRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/EquipmentRoutingRecord'
 
    ClientAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Client'
 
    ClientChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Client'
 
    ClientRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Client'
 
    ClientSessionChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/ClientSession'
 
    ClientSessionRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/ClientSession'
 
    CustomerAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Customer'
 
    CustomerChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Customer'
 
    CustomerRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Customer'
 
    LocationAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Location'
 
    LocationChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Location'
 
    LocationRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Location'
 
    EquipmentAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Equipment'
 
    EquipmentChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Equipment'
 
    EquipmentRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Equipment'
 
    AlarmAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Alarm'
 
    AlarmChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Alarm'
 
    AlarmRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Alarm'
 
    PortalUserAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/PortalUser'
 
    PortalUserChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/PortalUser'
 
    PortalUserRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/PortalUser'
 
    ProfileAddedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Profile'
 
    ProfileChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Profile'
 
    ProfileRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        payload:
          $ref: '#/components/schemas/Profile'
 
    StatusChangedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Status'
 
    StatusRemovedEvent:
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          $ref: '#/components/schemas/Status'
 
    UnserializableSystemEvent:
      description: This event is used in situations when the cloud cannot parse the event that was previously stored in the DB, used to cover upgrade scenarios.
      properties:
        eventTimestamp:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        payload:
          type: string
          
#
# Objects related to Clients
#
 
    Client:
      type: object
      properties:
        macAddress:
          $ref: '#/components/schemas/MacAddress'
        customerId:
          type: integer
          format: int32
        details:
          $ref: '#/components/schemas/ClientInfoDetails'
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          description: This class does not perform checks against concurrrent updates. Here last update always wins.
          type: integer
          format: int64
 
    ClientInfoDetails:
      type: object
      properties:
        alias:
          type: string
        clientType:
          type: integer
          format: int32
        apFingerprint:
          type: string
        userName:
          type: string
        hostName:
          type: string
        lastUsedCpUsername:
          type: string
        lastUserAgent:
          type: string
        doNotSteer:
          type: boolean
        blocklistDetails:
          $ref: '#/components/schemas/BlocklistDetails'
 
    BlocklistDetails:
      type: object
      properties:
        enabled:
          description: When enabled, blocking applies to the client, subject to the optional start/end times.
          type: boolean
        startTime:
          description: Optional startTime when blocking becomes enabled.
          type: integer
          format: int64
        endTime:
          description: Optional endTime when blocking ceases to be enabled
          type: integer
          format: int64
          
#
# Objects related to Client sessions
#
 
    ClientSession:
      type: object
      properties:
        macAddress:
          $ref: '#/components/schemas/MacAddress'
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        details:
          $ref: '#/components/schemas/ClientSessionDetails'
        lastModifiedTimestamp:
          description: This class does not perform checks against concurrrent updates. Here last update always wins.
          type: integer
          format: int64
 
    ClientSessionDetails:
      type: object
      properties:
        sessionId:
          type: integer
          format: int64
        authTimestamp:
          type: integer
          format: int64
        assocTimestamp:
          type: integer
          format: int64
        assocInternalSC:
          type: integer
          format: int32
        ipTimestamp:
          type: integer
          format: int64
        disconnectByApTimestamp:
          type: integer
          format: int64
        disconnectByClientTimestamp:
          type: integer
          format: int64
        timeoutTimestamp:
          type: integer
          format: int64
        firstDataSentTimestamp:
          type: integer
          format: int64
        firstDataRcvdTimestamp:
          type: integer
          format: int64
        ipAddress:
          type: string
        radiusUsername:
          type: string
        ssid:
          type: string
        radioType:
          $ref: '#/components/schemas/RadioType'
        lastEventTimestamp:
          type: integer
          format: int64
        hostname:
          type: string
        apFingerprint:
          type: string
        userAgentStr:
          type: string
        lastRxTimestamp:
          type: integer
          format: int64
        lastTxTimestamp:
          type: integer
          format: int64
        cpUsername:
          type: string
        dhcpDetails:
          $ref: '#/components/schemas/ClientDhcpDetails'
        eapDetails:
          $ref: '#/components/schemas/ClientEapDetails'
        metricDetails:
          $ref: '#/components/schemas/ClientSessionMetricDetails'
        isReassociation:
          type: boolean
        disconnectByApReasonCode:
          type: integer
          format: int32
        disconnectByClientReasonCode:
          type: integer
          format: int32
        disconnectByApInternalReasonCode:
          type: integer
          format: int32
        disconnectByClientInternalReasonCode:
          type: integer
          format: int32
        portEnabledTimestamp:
          type: integer
          format: int64
        is11RUsed:
          type: boolean
        is11KUsed:
          type: boolean
        is11VUsed:
          type: boolean
        securityType:
          $ref: '#/components/schemas/SecurityType'
        steerType:
          $ref: '#/components/schemas/SteerType'
        previousValidSessionId:
          type: integer
          format: int64
        lastFailureDetails:
          $ref: '#/components/schemas/ClientFailureDetails'
        firstFailureDetails:
          $ref: '#/components/schemas/ClientFailureDetails'
        associationStatus:
          type: integer
          format: int32
        dynamicVlan:
          type: integer
          format: int32
        assocRssi:
          type: integer
          format: int32
        priorSessionId:
          type: integer
          format: int64
        priorEquipmentId:
          type: integer
          format: int64
        classificationName:
          type: string
 
    ClientDhcpDetails:
      type: object
      properties:
        dhcpServerIp:
          type: string
        primaryDns:
          type: string
        secondaryDns:
          type: string
        subnetMask:
          type: string
        gatewayIp:
          type: string
        leaseStartTimestamp:
          type: integer
          format: int64
        leaseTimeInSeconds:
          type: integer
          format: int32
        firstRequestTimestamp:
          type: integer
          format: int64
        firstOfferTimestamp:
          type: integer
          format: int64
        firstDiscoverTimestamp:
          type: integer
          format: int64
        nakTimestamp:
          type: integer
          format: int64
        fromInternal:
          type: boolean
          
    ClientEapDetails:
      type: object
      properties:
        eapKey1Timestamp:
          type: integer
          format: int64
        eapKey2Timestamp:
          type: integer
          format: int64
        eapKey3Timestamp:
          type: integer
          format: int64
        eapKey4Timestamp:
          type: integer
          format: int64
        requestIdentityTimestamp:
          type: integer
          format: int64
        eapNegotiationStartTimestamp:
          type: integer
          format: int64
        eapSuccessTimestamp:
          type: integer
          format: int64
 
    ClientSessionMetricDetails:
      type: object
      properties:
        rxBytes:
          type: integer
          format: int64
        txBytes:
          type: integer
          format: int64
        totalRxPackets:
          type: integer
          format: int64
        totalTxPackets:
          type: integer
          format: int64
        rxMbps:
          type: number
          #float
        txMbps:
          type: number
          #float
        rssi:
          type: integer
          format: int32
        snr:
          type: integer
          format: int32
        rxRateKbps:
          # from MCS
          type: integer
          format: int64
        txRateKbps:
          # from MCS
          type: integer
          format: int64
        lastMetricTimestamp:
          type: integer
          format: int64
        lastRxTimestamp:
          type: integer
          format: int64
        lastTxTimestamp:
          type: integer
          format: int64
        classification:
          type: string
        txDataFrames:
          description: The number of dataframes transmitted TO the client from the AP.
          type: integer
          format: int32
        txDataFramesRetried:
          description: The number of data frames transmitted TO the client that were retried. Note this is not the same as the number of retries.
          type: integer
          format: int32
        rxDataFrames:
          description: The number of dataframes transmitted FROM the client TO the AP.
          type: integer
          format: int32
 
    SecurityType:
      type: string
      enum:
      - OPEN
      - RADIUS
      - PSK
      
    SteerType:
      type: string
      enum:
      - steer_rsvd
      - steer_deauth
      - steer_11v
      - steer_perimeter
    
    ClientFailureDetails:
      type: object
      properties:
        failureTimestamp:
          type: integer
          format: int64
        reasonCode:
          type: integer
          format: int32
        reason:
          type: string
 
#
# Customer data models
#
 
    Customer:
      description: Customer object
      type: object
      required:
        - id
        - email
        - name
        - lastModifiedTimestamp
      properties:
        id:
          type: integer
          format: int32
        email:
          type: string
          format: email
        name:
          type: string
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          description: must be provided for update operation, update will be rejected if provided value does not match the one currently stored in the database
          type: integer
          format: int64
          
#
# Location data models
#
          
    Location:
      type: object
      properties:
        id:
          type: integer
          format: int64
        locationType:
          type: string
          enum:
            - COUNTRY
            - SITE
            - BUILDING
            - FLOOR
            - UNSUPPORTED
        customerId:
          type: integer
          format: int32
        name:
          type: string
        parentId:
          type: integer
          format: int64
        details:
          $ref: '#/components/schemas/LocationDetails'
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          description: must be provided for update operation, update will be rejected if provided value does not match the one currently stored in the database
          type: integer
          format: int64
      example:
        customerId: 2
        locationType: COUNTRY
        name: new location
          
    CountryCode:
      type: string
      enum:
      - usa
      - ca
      - integration
      - UNSUPPORTED
      
    LocationDetails:
      type: object
      properties:
        model_type:
          type: string
          enum:
            - LocationDetails
        countryCode:
           $ref: '#/components/schemas/CountryCode'
        dailyActivityDetails:
           $ref: '#/components/schemas/LocationActivityDetailsMap'
        maintenanceWindow:
           $ref: '#/components/schemas/DaysOfWeekTimeRangeSchedule'
        rrmEnabled:
          type: boolean
    LocationActivityDetailsMap:
      properties:
        SUNDAY:
          $ref: '#/components/schemas/LocationActivityDetails'
        MONDAY:
          $ref: '#/components/schemas/LocationActivityDetails'
        TUESDAY:
          $ref: '#/components/schemas/LocationActivityDetails'
        WEDNESDAY:
          $ref: '#/components/schemas/LocationActivityDetails'
        THURSDAY:
          $ref: '#/components/schemas/LocationActivityDetails'
        FRIDAY:
          $ref: '#/components/schemas/LocationActivityDetails'
        SATURDAY:
          $ref: '#/components/schemas/LocationActivityDetails'
    LocationActivityDetails:
      properties:
        busyTime:
          type: string
        quietTime:
          type: string
        timezone:
          type: string
        lastBusySnapshot:
          type: integer
          format: int64
 
    DaysOfWeekTimeRangeSchedule:
      type: object
      properties:
        timezone:
          type: string
        timeBegin:
          $ref: '#/components/schemas/LocalTimeValue'
        timeEnd:
          $ref: '#/components/schemas/LocalTimeValue'
        daysOfWeek:
          type: array
          items:
            $ref: '#/components/schemas/DayOfWeek'
    
    LocalTimeValue:
      type: object
      properties:
        hour:
          type: integer
        minute:
          type: integer
          
    DayOfWeek:
      type: string
      enum:
        - MONDAY
        - TUESDAY
        - WEDNESDAY
        - THURSDAY
        - FRIDAY
        - SATURDAY
        - SUNDAY
 
#
# Equipment data models
#
 
    EquipmentType:
      type: string
      enum:
        - AP
        - SWITCH
 
    Equipment:
      type: object
      properties:
        id:
          type: integer
          format: int64
        equipmentType:
          $ref: '#/components/schemas/EquipmentType'
        inventoryId:
          type: string
        customerId:
          type: integer
          format: int32
        profileId:
          type: integer
          format: int64
        name:
          type: string
        locationId:
          type: integer
          format: int64
        details:
           $ref: '#/components/schemas/EquipmentDetails'
        latitude:
          type: string
        longitude:
          type: string
        serial:
          type: string
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          description: must be provided for update operation, update will be rejected if provided value does not match the one currently stored in the database
          type: integer
          format: int64
      example:
        equipmentType: AP
        customerId: 2
        profileId: 1
        locationId: 2
        inventoryId: example_ap
        serial: example_serial
        name: example AP
 
#
# Alarm data models
#
 
    Alarm:
      type: object
      properties:
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        alarmCode:
          $ref: '#/components/schemas/AlarmCode'
        createdTimestamp:
          type: integer
          format: int64
        originatorType:
          $ref: '#/components/schemas/OriginatorType'
        severity:
          $ref: '#/components/schemas/StatusCode'
        scopeType:
          $ref: '#/components/schemas/AlarmScopeType'
        scopeId:
          type: string
        details:
          $ref: '#/components/schemas/AlarmDetails'
        acknowledged:
          type: boolean
        lastModifiedTimestamp:
          description: must be provided for update operation, update will be rejected if provided value does not match the one currently stored in the database
          type: integer
          format: int64
 
    AlarmScopeType:
      type: string
      enum:
      - CLIENT
      - EQUIPMENT
      - VLAN
      - CUSTOMER
      - LOCATION
      
    OriginatorType:
      type: string
      enum:
      - AP
      - SWITCH
      - NET
    
    AlarmCode:
      type: string
      enum:
      - LimitedCloudConnectivity # (3, Equipment is connected, however it's not reporting status or metrics),
      - AccessPointIsUnreachable # (4, Equipment is not reachable from cloud),
      - NoMetricsReceived # (6, Equipment is not report metrics),
      - NoiseFloor2G # (7, Noise floor is too high on 2G radio),
      - ChannelUtilization2G # (8, Channel utilization is too high on 2G radio),
      - NoiseFloor5G # (9, Noise floor is too high on 5G radio),
      - ChannelUtilization5G # (10, Channel utilization is too high on 5G radio),
      - DNS # (11, Issue with Domain Name System (DNS)),
      - DNSLatency # (12, DNS query take too long),
      - DHCP # (13, Issue with DHCP),
      - DHCPLatency # (14, DHCP requests take too long),
      - Radius # (15, Issue with RADIUS),
      - RadiusLatency # (16, RADIUS request takes too long),
      - CloudLink # (17, Issue reported by equipment with connection with Cloud),
      - CloudLinkLatency # (18, Cloud request take too long),
      - CPUUtilization # (19, CPU utilization is too high),
      - MemoryUtilization # (20, Memory utilization is too high),
      - Disconnected # (22, Equipment is not connected to the cloud),
      - CPUTemperature # (23, CPU Temperature is too high),
      - LowMemoryReboot # (25, Equipment rebooted due to low memory),
      - CountryCodeMisMatch # (26, Equipment country code does not match with location),
      - RulesCompilationErrors # (27, Rule compliation error encountered),
      - RulesRuntimeLimitsExceeded # (28, Number of object or event are too high in rule engine run-time memory),
      - HardwareIssueDiagnostic # (29, Hardware issue encountered on equipment)
      - TooManyClients2g # (30, Too many client devices on 2G radio),
      - TooManyClients5g # (31, Too many client devices on 5G radio),
      - RebootRequestFailed # (32, Failed to reboot equipment),
      - RadiusConfigurationFailed # (33, Failed to configure RADIUS on equipment),
      - FirmwareUpgradeStuck # (34, Firmware upgrade failed),
      - MultipleAPCsOnSameSubnet # (35, Multiple APC reported on the same subnet),
      - RadioHung2G # (36, Radio hung on 2G radio),
      - RadioHung5G # (37, Radio hung on 5G radio),
      - ConfigurationOutOfSync # (38, Equipment configuration is out-of-sync from cloud configuration),
      - AggregationOutOfDate # (39, Metrics aggregation is out of date),
      - FailedCPAuthentications # (40, Captive portal authenticaiton request failed),
      - DisabledSSID # (41, SSID is disabled on equipment even though it is configured),
      - DeauthAttackDetected # (42, De-Auth attack detected),
      - RulesCalledTooOften # (43, Rules are called too often on rule agent),
      - MspSuspended # (44, Managed Service Provider for the customer is suspended),
      - TooManyBlockedDevices # (45, Too many blocked client devices provisioned),
      - TooManyRogueAPs # (46, Too many rogue APs provisioned),
      - NeighbourScanStuckOn2g # (47, Neighbour scan is stuck on 2G Radio),
      - NeighbourScanStuckOn5g # (48, Neighbour scan is stuck on 5G Radio),
      - InTroubleshootMode # (49, Equipment has been in troubleshot mode for too long),
      - ChannelsOutOfSync2g # (50, Channel configuration is out-of-sync from cloud configuration on 2G radio), in case the channel selection is out of sync
      - ChannelsOutOfSync5gv # (51, Channel configuration is out-of-sync from cloud configuration on 5G radio), in case the channel selection is out of sync
      - InconsistentBasemacs # (52, Equipment base MAC address reported is different than the provisioned value.),
      - GenericError # (53, Generic error encountered, detail in alarm text),
      - RadioHung # (54, Equipment reported radio hung),
      - AssocFailure # (55, Association failed),
      - ClientAuthFailure # (56, Client device authentication failed),
      - QoEIssues2g # (57, QoE issue detected on 2G radio),
      - QoEIssues5g # (58, QoE issue detected on 5G radio),
      - DNSServerUnreachable # (67, DNS Server is unreachable),
      - DNSServerLatency # (68, DNS Server query takes too long),
 
    AlarmDetails:
      type: object
      properties:
        message:
          type: string
        affectedEquipmentIds:
          type: array
          items:
            type: integer
            format: int64
        generatedBy:
          type: string
        contextAttrs:
          $ref: '#/components/schemas/AlarmDetailsAttributesMap'
    
    AlarmDetailsAttributesMap:
      type: object
      additionalProperties:
        type: object
        
#
# Portal User data models
#
          
    PortalUser:
      type: object
      properties:
        id:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        username:
          type: string
        password:
          type: string
        role:
          $ref: '#/components/schemas/PortalUserRole'
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          description: must be provided for update operation, update will be rejected if provided value does not match the one currently stored in the database
          type: integer
          format: int64
      example:
        customerId: 2
        username: new_user
        password: pwd
        role: CustomerIT
          
    PortalUserRole:
      type: string
      enum:
      - SuperUser
      - CustomerIT
      
#
# Service Profile data models
#
    
          
    ProfileType:
      type: string
      enum:
        - equipment_ap
        - equipment_switch
        - ssid
        - bonjour
        - radius
        - captive_portal
        - mesh
 
    Profile:
      description: Each AccessPoint refers to at most one profile of type equipment_ap. Each ApNetworkConfiguration (equipment_ap) profile refers to 0-N SSID profiles via its childProfileIds property. Each SSID profile refers to at most 1 Captive Portal Profile and 1 Bonjour Gateway Profile and 1 RADIUS Service Profile via its childProfileIds property. Each Captive Portal Profile refers to at most 1 RADIUS Service Profile via its childProfileIds property.
      type: object
      properties:
        id:
          type: integer
          format: int64
        profileType:
          $ref: '#/components/schemas/ProfileType'
        customerId:
          type: integer
          format: int32
        name:
          type: string
        childProfileIds:
          type: array
          items:
            type: integer
            format: int64
        details:
           $ref: '#/components/schemas/ProfileDetailsChildren'
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          description: must be provided for update operation, update will be rejected if provided value does not match the one currently stored in the database
          type: integer
          format: int64
      example:
        profileType: equipment_ap
        customerId: 2
        name: example AP profile
 
    ProfileDetails:
      description: Place to put extended profile properties specific to each type of the profile.
      type: object
      discriminator:
        propertyName: model_type
      properties:
        model_type:
          type: string
          enum:
          - BonjourGatewayProfile
          - CaptivePortalConfiguration
          - ApNetworkConfiguration
          - MeshGroup
          - RadiusProfile
          - SsidConfiguration
      required: 
        - model_type
 
    ProfileDetailsChildren:
      oneOf:
        - $ref: '#/components/schemas/BonjourGatewayProfile'
        - $ref: '#/components/schemas/CaptivePortalConfiguration'
        - $ref: '#/components/schemas/ApNetworkConfiguration'
        - $ref: '#/components/schemas/MeshGroup'
        - $ref: '#/components/schemas/RadiusProfile'
        - $ref: '#/components/schemas/SsidConfiguration'
      discriminator:
        propertyName: model_type
        
    BonjourGatewayProfile:
      description: Properties for the Bonjour Gateway profile.
      allOf:
      - $ref: '#/components/schemas/ProfileDetails'
      - type: object
        properties:
          model_type:
            type: string
            enum:
            - BonjourGatewayProfile
          profileDescription:
            type: string
          bonjourServices:
            type: array
            items:
              $ref: '#/components/schemas/BonjourServiceSet'
 
    BonjourServiceSet:
      type: object
      properties:
        vlanId:
          type: integer
          format: int16
        supportAllServices:
          type: boolean
        serviceNames:
          type: array
          items:
            type: string
            
    CaptivePortalConfiguration:
      description: Properties for the Captive Portal Service profile.
      allOf:
      - $ref: '#/components/schemas/ProfileDetails'
      - type: object
        properties:
          model_type:
            type: string
            enum:
            - CaptivePortalConfiguration
          browserTitle:
            type: string
          headerContent:
            type: string
          userAcceptancePolicy:
            type: string
          successPageMarkdownText:          
            type: string
          redirectURL:
            type: string
          externalCaptivePortalURL:
            type: string
          sessionTimeoutInMinutes:
            type: integer
            format: int32
          logoFile:
            $ref: '#/components/schemas/ManagedFileInfo'
          backgroundFile:
            $ref: '#/components/schemas/ManagedFileInfo'
          walledGardenAllowlist:
            type: array
            items:
              type: string
          usernamePasswordFile:
            $ref: '#/components/schemas/ManagedFileInfo'
          authenticationType:
            $ref: '#/components/schemas/CaptivePortalAuthenticationType'
          radiusAuthMethod:
            $ref: '#/components/schemas/RadiusAuthenticationMethod'
          maxUsersWithSameCredentials:
            type: integer
            format: int32
          externalPolicyFile:
            $ref: '#/components/schemas/ManagedFileInfo'
          backgroundPosition:
            $ref: '#/components/schemas/BackgroundPosition'
          backgroundRepeat:
            $ref: '#/components/schemas/BackgroundRepeat'
          radiusServiceName:
            type: string
          expiryType:
            $ref: '#/components/schemas/SessionExpiryType'
          userList:
            type: array
            items:
              $ref: '#/components/schemas/TimedAccessUserRecord'
          macAllowList:
            type: array
            items:
              $ref: '#/components/schemas/MacAllowlistRecord'
 
    ManagedFileInfo:
      type: object
      properties:
        md5checksum:
          type: array
          items:
            type: integer
            format: byte
        lastModifiedTimestamp:
          type: integer
          format: int64
        apExportUrl:
          type: string
        fileCategory:
          $ref: '#/components/schemas/FileCategory'
        fileType:
          $ref: '#/components/schemas/FileType'
        altSlot:
          type: boolean
          
    FileCategory:
      type: string
      enum:
      - CaptivePortalLogo
      - CaptivePortalBackground
      - ExternalPolicyConfiguration
      - UsernamePasswordList
      - DeviceMacBlockList
      - DoNotSteerClientList
 
    FileType:
      type: string
      enum:
      - PNG
      - JPG
      - PROTOBUF
 
 
    CaptivePortalAuthenticationType:
      type: string
      enum:
      - guest
      - username
      - radius
      - external
 
    RadiusAuthenticationMethod:
      type: string
      enum:
      - PAP
      - CHAP
      - MSCHAPv2
 
    BackgroundPosition:
      type: string
      enum:
      - left_top
      - left_center
      - left_bottom
      - right_top
      - right_center
      - right_bottom
      - center_top
      - center_center
      - center_bottom
 
    BackgroundRepeat:
      type: string
      enum:
      - repeat_x
      - repeat_y
      - repeat
      - space
      - round
      - no_repeat
      - cover
    
    SessionExpiryType:
      type: string
      enum:
      - time_limited
      - unlimited
 
    TimedAccessUserRecord:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
        activationTime:
          type: integer
          format: int64
        expirationTime:
          type: integer
          format: int64
        numDevices:
          type: integer
          format: int32
        userDetails:
          $ref: '#/components/schemas/TimedAccessUserDetails'
        userMacAddresses:
          type: array
          items:
            $ref: '#/components/schemas/MacAddress'
        lastModifiedTimestamp:
          type: integer
          format: int64
    
    TimedAccessUserDetails:
      type: object
      properties:
        firstName:
          type: string
        lastName:
          type: string
        passwordNeedsReset:
          type: boolean
          
    MacAddress:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - MacAddress
        addressAsString:
          type: string
      
    MacAllowlistRecord:
      type: object
      properties:
        macAddress:
          $ref: '#/components/schemas/MacAddress'
        notes:
          type: string
        lastModifiedTimestamp:
          type: integer
          format: int64
      
 
    ApNetworkConfiguration:
      description: Properties for the AP Network Configuration profile.
      allOf:
      - $ref: '#/components/schemas/ProfileDetails'
      - type: object
        properties:
          model_type:
            type: string
            enum:
            - ApNetworkConfiguration
          networkConfigVersion:
            type: string
            enum:
            - AP-1
          equipmentType:
            type: string
            enum:
            - AP
          vlanNative:
            type: boolean
          vlan:
            type: integer
            format: int32
          ntpServer:
            $ref: '#/components/schemas/AutoOrManualString'
          syslogRelay:
            $ref: '#/components/schemas/SyslogRelay'
          rtlsSettings:
            $ref: '#/components/schemas/RtlsSettings'
          syntheticClientEnabled:
            type: boolean
          ledControlEnabled:
            type: boolean
          equipmentDiscovery:
            type: boolean
          radioMap:
            $ref: '#/components/schemas/RadioProfileConfigurationMap'
 
 
    RadioProfileConfigurationMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/RadioProfileConfiguration'
        is5GHzU:
          $ref: '#/components/schemas/RadioProfileConfiguration'
        is5GHzL:
          $ref: '#/components/schemas/RadioProfileConfiguration'
        is2dot4GHz:
          $ref: '#/components/schemas/RadioProfileConfiguration'
 
    RadioProfileConfiguration:
      properties:
        bestApEnabled:
          type: boolean
        bestAPSteerType:
          $ref: '#/components/schemas/BestAPSteerType'
 
    SyslogRelay:
      type: object
      properties:
        enabled:
          type: boolean
        srvHostIp:
          type: string
        srvHostPort:
          type: integer
          format: int32
        severity:
          $ref: '#/components/schemas/SyslogSeverityType'
    
    
    SyslogSeverityType:
      type: string
      enum:
      - EMERG
      - ALERT
      - CRIT
      - ERR
      - WARING
      - NOTICE
      - INFO
      - DEBUG
 
    RtlsSettings:
      type: object
      properties:
        enabled:
          type: boolean
        srvHostIp:
          type: string
        srvHostPort:
          type: integer
          format: int32
      
    
    MeshGroup:
      description: Properties for the Mesh Group profile.
      allOf:
      - $ref: '#/components/schemas/ProfileDetails'
      - type: object
        properties:
          model_type:
            type: string
            enum:
            - MeshGroup
          property:
            $ref: '#/components/schemas/MeshGroupProperty'
          members:
            type: array
            items:
              $ref: '#/components/schemas/MeshGroupMember'
              
    MeshGroupProperty:
      properties:
        name:
          type: string
        locationId:
          type: integer
          format: int64
        ethernetProtection:
          type: boolean
 
    MeshGroupMember:
      properties:
        mashMode:
          $ref: '#/components/schemas/ApMeshMode'
        equipmentId:
          type: integer
          format: int64
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          type: integer
          format: int64
 
    ApMeshMode:
      description: STANDALONE = no mesh. MESH_PORTAL = Wired AP, accepting wireless connections from MESH_POINTs. MESH_POINT = Extender AP. connects to MESH_PORTAL.
      type: string
      enum:
      - STANDALONE
      - MESH_PORTAL
      - MESH_POINT
 
    RadiusProfile:
      description: Properties for the RADIUS profile.
      allOf:
      - $ref: '#/components/schemas/ProfileDetails'
      - type: object
        properties:
          model_type:
            type: string
            enum:
            - RadiusProfile
          subnetConfiguration:
            $ref: '#/components/schemas/RadiusSubnetConfigurationMap'
          serviceRegionMap:
            $ref: '#/components/schemas/RadiusServiceRegionMap'
            
    RadiusSubnetConfigurationMap:
      description: Map of subnet configurations. Key is the subnet name, value is the actual configuration.
      type: object
      additionalProperties:
        $ref: '#/components/schemas/RadiusSubnetConfiguration'
 
    RadiusServiceRegionMap:
      description: Map of Radius Service Regions, keyed by Region Name
      type: object
      additionalProperties:
        $ref: '#/components/schemas/RadiusServiceRegion'
    
    RadiusSubnetConfiguration:
      properties:
        serviceRegionName:
          type: string
        subnetName:
          type: string
        proxyConfig:
          $ref: '#/components/schemas/RadiusProxyConfiguration'
        probeInterval:
          description: Synthentic client probing internval (seconds). Use 0 or null for disable.
          type: integer
          format: int32
        subnetAddress:
          description: Subnet IpAddress
          type: string
        subnetCidrPrefix:
          type: integer
          format: int32
          
    RadiusProxyConfiguration:
      properties:
        floatingIpAddress:
          description: Proxy server floating IP address
          type: string
        floatingIfCidrPrefix:
          description: Optional subnet CIDR prefix for floating IP address. Required if different floating IP address is outside of the the management subnet.
          type: integer
          format: int32
        floatingIfGwAddress:
          description: Optional Gateway IP Address for the floating IP interface
          type: string
        floatingIfVlan:
          description: Optional VLAN id for the floating IP interface
          type: integer
          format: int32
        sharedSecret:
          description: Shared secret used to communicate with the proxy server
          type: string
        
    
    RadiusServiceRegion:
      description: Region with the same set of Radius Service Configurations
      properties:
        regionName:
          description: Named server mapping
          type: string
          default: Default
        serverMap:
          $ref: '#/components/schemas/RadiusServerMap'
        
    RadiusServerMap:
      type: object
      additionalProperties:
        type: array
        items:
          $ref: '#/components/schemas/RadiusServer'
          
    RadiusServer:
      properties:
        ipAddress:
          type: string
        secret:
          type: string
        authPort:
          type: integer
          format: int32
        timeout:
          type: integer
          format: int32
        
    
 
    SsidConfiguration:
      description: Properties for the SSID Configuration profile.
      allOf:
      - $ref: '#/components/schemas/ProfileDetails'
      - type: object
        properties:
          model_type:
            type: string
            enum:
            - SsidConfiguration
          ssid:
            type: string
          appliedRadios:
            type: array
            items:
              $ref: '#/components/schemas/RadioType'
          ssidAdminState:
            $ref: '#/components/schemas/StateSetting'
          secureMode:
            $ref: '#/components/schemas/SsidSecureMode'
          vlanId:
            type: integer
            format: int32
          keyStr:
            type: string
          broadcastSsid:
            $ref: '#/components/schemas/StateSetting'
          keyRefresh:
            type: integer
            format: int32
            default: 0
          noLocalSubnets:
            type: boolean
          radiusServiceName:
            type: string
          captivePortalId:
            description: id of a CaptivePortalConfiguration profile, must be also added to the children of this profile
            type: integer
            format: int64
          bandwidthLimitDown:
            type: integer
            format: int64
          bandwidthLimitUp:
            type: integer
            format: int64
          clientBandwidthLimitDown:
            type: integer
            format: int64
          clientBandwidthLimitUp:
            type: integer
            format: int64
          videoTrafficOnly:
            type: boolean
          radioBasedConfigs:
            $ref: '#/components/schemas/RadioBasedSsidConfigurationMap'
          bonjourGatewayProfileId:
            description: id of a BonjourGateway profile, must be also added to the children of this profile
            type: integer
            format: int64
          enable80211w:
            type: boolean
          wepConfig:
            $ref: '#/components/schemas/WepConfiguration'
          forwardMode:
            $ref: '#/components/schemas/NetworkForwardMode'
            
    SsidSecureMode:
      type: string
      enum:
      - open
      - wpaPSK
      - wpa2PSK
      - wpaRadius
      - wpa2Radius
      - wpa2OnlyPSK
      - wpa2OnlyRadius
      - wep
      
    RadioBasedSsidConfigurationMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/RadioBasedSsidConfiguration'
        is5GHzU:
          $ref: '#/components/schemas/RadioBasedSsidConfiguration'
        is5GHzL:
          $ref: '#/components/schemas/RadioBasedSsidConfiguration'
        is2dot4GHz:
          $ref: '#/components/schemas/RadioBasedSsidConfiguration'
      
    RadioBasedSsidConfiguration:
      properties:
        enable80211r:
          type: boolean
        enable80211k:
          type: boolean
        enable80211v:
          type: boolean
          
    WepConfiguration:
      properties:
        primaryTxKeyId:
          type: integer
          format: int32
        wepKeys:
          type: array
          items:
            $ref: '#/components/schemas/WepKey'
        wepAuthType:
          $ref: '#/components/schemas/WepAuthType'
          
    WepAuthType:
      type: string
      enum:
      - open
      - shared
    
    WepKey:
      properties:
        txKey:
          type: string
        txKeyConverted:
          type: string
        txKeyType:
          $ref: '#/components/schemas/WepType'
        
    WepType:
      type: string
      enum:
      - wep64
      - wep128
      
#
# Equipment Routing Models
#
    EquipmentRoutingRecord:
      properties:
        id:
          type: integer
          format: int64
        equipmentId:
          type: integer
          format: int64
        customerId:
          type: integer
          format: int32
        gatewayId:
          type: integer
          format: int64
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          type: integer
          format: int64
          
    EquipmentGatewayRecord:
      properties:
        id:
          type: integer
          format: int64
        hostname:
          type: string
        ipAddr:
          type: string
        port:
          type: integer
          format: int64
        gatewayType:
          $ref: '#/components/schemas/GatewayType'
        createdTimeStamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          type: integer
          format: int64
      
    GatewayType:
      type: string
      enum:
      - CEGW
      - CNAGW
      
#
# Status data models
#
    StatusDataType:
      type: string
      enum:
      - EQUIPMENT_ADMIN
      - NETWORK_ADMIN
      - NETWORK_AGGREGATE
      - PROTOCOL
      - FIRMWARE
      - PEERINFO
      - LANINFO
      - NEIGHBOURINGINFO
      - OS_PERFORMANCE
      - NEIGHBOUR_SCAN
      - RADIO_UTILIZATION
      - ACTIVE_BSSIDS
      - CLIENT_DETAILS
   
    Status:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - Status
        customerId:
          type: integer
          format: int32
        equipmentId:
          type: integer
          format: int64
        statusDataType:
          $ref: '#/components/schemas/StatusDataType'
        statusDetails:
          $ref: '#/components/schemas/StatusDetails'
        createdTimestamp:
          type: integer
          format: int64
        lastModifiedTimestamp:
          description: This class does not perform checks against concurrrent updates. Here last update always wins.
          type: integer
          format: int64
 
    StatusDetails:
      oneOf:
        - $ref: '#/components/schemas/ActiveBSSIDs'
        - $ref: '#/components/schemas/ClientConnectionDetails'
        - $ref: '#/components/schemas/EquipmentAdminStatusData'
        - $ref: '#/components/schemas/EquipmentLANStatusData'
        - $ref: '#/components/schemas/EquipmentNeighbouringStatusData'
        - $ref: '#/components/schemas/EquipmentPeerStatusData'
        - $ref: '#/components/schemas/EquipmentProtocolStatusData'
        - $ref: '#/components/schemas/EquipmentScanDetails'
        - $ref: '#/components/schemas/EquipmentUpgradeStatusData'
        - $ref: '#/components/schemas/NetworkAdminStatusData'
        - $ref: '#/components/schemas/NetworkAggregateStatusData'
        - $ref: '#/components/schemas/OperatingSystemPerformance'
        - $ref: '#/components/schemas/RadioUtilizationReport'
      discriminator:
        propertyName: model_type
    
    ActiveBSSIDs:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - ActiveBSSIDs
        statusDataType:
          type: string
          enum:
          - ACTIVE_BSSIDS
        activeBSSIDs:
          type: array
          items: 
            $ref: '#/components/schemas/ActiveBSSID'
            
    ActiveBSSID:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - ActiveBSSID
        bssid:
          type: string
        ssid:
          type: string
        radioType:
          $ref: '#/components/schemas/RadioType'
        numDevicesConnected:
          type: integer
          format: int32
          
 
    ClientConnectionDetails:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - ClientConnectionDetails
        statusDataType:
          type: string
          enum:
          - CLIENT_DETAILS
        numClientsPerRadio:
          $ref: '#/components/schemas/IntegerPerRadioTypeMap'
            
    IntegerPerRadioTypeMap:
      properties:
        is5GHz:
          type: integer
          format: int32
        is5GHzU:
          type: integer
          format: int32
        is5GHzL:
          type: integer
          format: int32
        is2dot4GHz:
          type: integer
          format: int32
    
    LongPerRadioTypeMap:
      properties:
        is5GHz:
          type: integer
          format: int64
        is5GHzU:
          type: integer
          format: int64
        is5GHzL:
          type: integer
          format: int64
        is2dot4GHz:
          type: integer
          format: int64
    
 
    EquipmentAdminStatusData:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - EquipmentAdminStatusData
        statusDataType:
          type: string
          enum:
          - EQUIPMENT_ADMIN
        statusCode:
          $ref: '#/components/schemas/StatusCode'
        statusMessage:
          type: string
    
    StatusCode:
      type: string
      enum:
      - normal
      - requiresAttention
      - error
      - disabled
 
    EquipmentLANStatusData:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - EquipmentLANStatusData
        statusDataType:
          type: string
          enum:
          - LANINFO
        vlanStatusDataMap:
          $ref: '#/components/schemas/VLANStatusDataMap'
 
    VLANStatusDataMap:
      type: object
      additionalProperties:
        $ref: '#/components/schemas/VLANStatusData'
      
    VLANStatusData:
      type: object
      properties:
        ipBase:
          type: string
        subnetMask:
          type: string
        gateway:
          type: string
        dhcpServer:
          type: string
        dnsServer1:
          type: string
        dnsServer2:
          type: string
        dnsServer3:
          type: string
 
 
    EquipmentNeighbouringStatusData:
      description: TODO - either describe the properties of this object or remove it.
      type: object
      properties:
        model_type:
          type: string
          enum:
          - EquipmentNeighbouringStatusData
        statusDataType:
          type: string
          enum:
          - NEIGHBOURINGINFO
 
    EquipmentPeerStatusData:
      description: TODO - either describe the properties of this object or remove it.
      type: object
      properties:
        model_type:
          type: string
          enum:
          - EquipmentPeerStatusData
        statusDataType:
          type: string
          enum:
          - PEERINFO
 
 
    EquipmentProtocolStatusData:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - EquipmentProtocolStatusData
        statusDataType:
          type: string
          enum:
          - PROTOCOL
        poweredOn:
          type: boolean
        protocolState:
          $ref: '#/components/schemas/EquipmentProtocolState'
        reportedHwVersion:
          type: string
        reportedSwVersion:
          type: string
        reportedSwAltVersion:
          type: string
        cloudProtocolVersion:
          type: string
        reportedIpV4Addr:
          type: string
        reportedIpV6Addr:
          type: string
        reportedMacAddr:
          $ref: '#/components/schemas/MacAddress'
        countryCode:
          type: string
        systemName:
          type: string
        systemContact:
          type: string
        systemLocation:
          type: string
        bandPlan:
          type: string
        serialNumber:
          type: string
        baseMacAddress:
          $ref: '#/components/schemas/MacAddress'
        reportedApcAddress:
          type: string
        lastApcUpdate:
          type: integer
          format: int64
        isApcConnected:
          type: boolean
        ipBasedConfiguration:
          type: string
        reportedSku:
          type: string
        reportedCC:
          $ref: '#/components/schemas/CountryCode'
        radiusProxyAddress:
          type: string
        reportedCfgDataVersion:
          type: integer
          format: int64
        cloudCfgDataVersion:
          type: integer
          format: int64
        
        
    EquipmentProtocolState:
      type: string
      enum:
      - init
      - joined
      - configuration_received
      - ready
      - error_when_joining
      - error_processing_configuration
 
 
    EquipmentScanDetails:
      description: TODO - document it or remove it
      type: object
      properties:
        model_type:
          type: string
          enum:
          - EquipmentScanDetails
        statusDataType:
          type: string
          enum:
          - NEIGHBOUR_SCAN
        
 
 
    EquipmentUpgradeStatusData:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - EquipmentUpgradeStatusData
        statusDataType:
          type: string
          enum:
          - FIRMWARE
        activeSwVersion:
          type: string
        alternateSwVersion:
          type: string
        targetSwVersion:
          type: string
        retries:
          type: integer
          format: int32
        upgradeState:
          $ref: '#/components/schemas/EquipmentUpgradeState'
        reason:
          $ref: '#/components/schemas/EquipmentUpgradeFailureReason'
        upgradeStartTime:
          type: integer
          format: int64
        switchBank:
          type: boolean
          
    EquipmentUpgradeState:
      type: string
      enum:
      - undefined
      - download_initiated
      - downloading
      - download_failed
        #firmware downloaded into reserve area but not flashed to bank
      - download_complete
      - apply_initiated
      - applying
      - apply_failed
      - apply_complete
      - reboot_initiated
      - rebooting
      - out_of_date
      - up_to_date
      - reboot_failed
      
    EquipmentUpgradeFailureReason:
      type: string
      enum:
      - downloadRequestRejected
      - validationFailed
      - unreachableUrl
      - downloadFailed 
      - applyRequestRejected
      - applyFailed
      - rebootRequestRejected
      - invalidVersion
      - rebootWithWrongVersion
      - maxRetries
      - rebootTimedout
      - downloadRequestFailedFlashFull
          
 
    NetworkAdminStatusData:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - NetworkAdminStatusData
        statusDataType:
          type: string
          enum:
          - NETWORK_ADMIN
        dhcpStatus:
          $ref: '#/components/schemas/StatusCode'
        dnsStatus:
          $ref: '#/components/schemas/StatusCode'
        cloudLinkStatus:
          $ref: '#/components/schemas/StatusCode'
        radiusStatus:
          $ref: '#/components/schemas/StatusCode'
        averageCoveragePerRadio:
          $ref: '#/components/schemas/IntegerPerRadioTypeMap'
        equipmentCountsBySeverity:
          $ref: '#/components/schemas/IntegerStatusCodeMap'
          
    IntegerStatusCodeMap:
      type: object
      properties:
        normal:
          type: integer
          format: int32
        requiresAttention:
          type: integer
          format: int32
        error:
          type: integer
          format: int32
        disabled:
          type: integer
          format: int32
        
 
    MinMaxAvgValueInt:
      type: object
      properties:
        minValue:
          type: integer
          format: int32
        maxValue:
          type: integer
          format: int32
        avgValue:
          type: integer
          format: int32
    
    CommonProbeDetails:
      type: object
      properties:
        latencyMs:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        numSuccessProbeRequests:
          type: integer
          format: int32
        numFailedProbeRequests:
          type: integer
          format: int32
        status:
          $ref: '#/components/schemas/StatusCode'
        
      
    NetworkAggregateStatusData:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - NetworkAggregateStatusData
        statusDataType:
          type: string
          enum:
          - NETWORK_AGGREGATE
        dhcpDetails:
          $ref: '#/components/schemas/CommonProbeDetails'
        dnsDetails:
          $ref: '#/components/schemas/CommonProbeDetails'
        cloudLinkDetails:
          $ref: '#/components/schemas/CommonProbeDetails'
        noiseFloorDetails:
          $ref: '#/components/schemas/NoiseFloorDetails'
        channelUtilizationDetails:
          $ref: '#/components/schemas/ChannelUtilizationDetails'
        radioUtilizationDetails:
          $ref: '#/components/schemas/RadioUtilizationDetails'
        userDetails:
          $ref: '#/components/schemas/UserDetails'
        trafficDetails:
          $ref: '#/components/schemas/TrafficDetails'
        radiusDetails:
          $ref: '#/components/schemas/RadiusDetails'
        equipmentPerformanceDetails:
          $ref: '#/components/schemas/EquipmentPerformanceDetails'
        capacityDetails:
          $ref: '#/components/schemas/CapacityDetails'
        numberOfReportingEquipment:
          type: integer
          format: int32
        numberOfTotalEquipment:
          type: integer
          format: int32
        beginGenerationTsMs:
          type: integer
          format: int64
        endGenerationTsMs:
          type: integer
          format: int64
        beginAggregationTsMs:
          type: integer
          format: int64
        endAggregationTsMs:
          type: integer
          format: int64
        numMetricsAggregated:
          type: integer
          format: int32
        coverage:
          type: integer
          format: int32
        behavior:
          type: integer
          format: int32
        handoff:
          type: integer
          format: int32
        wlanLatency:
          type: integer
          format: int32
 
 
    NoiseFloorDetails:
      type: object
      properties:
        perRadioDetails:
          $ref: '#/components/schemas/NoiseFloorPerRadioDetailsMap'
        indicatorValue:
          type: integer
          format: int32
    
    NoiseFloorPerRadioDetailsMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/NoiseFloorPerRadioDetails'
        is5GHzU:
          $ref: '#/components/schemas/NoiseFloorPerRadioDetails'
        is5GHzL:
          $ref: '#/components/schemas/NoiseFloorPerRadioDetails'
        is2dot4GHz:
          $ref: '#/components/schemas/NoiseFloorPerRadioDetails'
    
    NoiseFloorPerRadioDetails:
      properties:
        noiseFloor:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        numGoodEquipment:
          type: integer
          format: int32
        numWarnEquipment:
          type: integer
          format: int32
        numBadEquipment:
          type: integer
          format: int32
      
    ChannelUtilizationDetails:
      type: object
      properties:
        perRadioDetails:
          $ref: '#/components/schemas/ChannelUtilizationPerRadioDetailsMap'
        indicatorValue:
          type: integer
          format: int32
    
    ChannelUtilizationPerRadioDetailsMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/ChannelUtilizationPerRadioDetails'
        is5GHzU:
          $ref: '#/components/schemas/ChannelUtilizationPerRadioDetails'
        is5GHzL:
          $ref: '#/components/schemas/ChannelUtilizationPerRadioDetails'
        is2dot4GHz:
          $ref: '#/components/schemas/ChannelUtilizationPerRadioDetails'
    
    ChannelUtilizationPerRadioDetails:
      properties:
        channelUtilization:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        numGoodEquipment:
          type: integer
          format: int32
        numWarnEquipment:
          type: integer
          format: int32
        numBadEquipment:
          type: integer
          format: int32
 
      
    RadioUtilizationDetails:
      type: object
      properties:
        perRadioDetails:
          $ref: '#/components/schemas/RadioUtilizationPerRadioDetailsMap'
 
    RadioUtilizationPerRadioDetailsMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/RadioUtilizationPerRadioDetails'
        is5GHzU:
          $ref: '#/components/schemas/RadioUtilizationPerRadioDetails'
        is5GHzL:
          $ref: '#/components/schemas/RadioUtilizationPerRadioDetails'
        is2dot4GHz:
          $ref: '#/components/schemas/RadioUtilizationPerRadioDetails'
    
    RadioUtilizationPerRadioDetails:
      properties:
        avgAssocClientTx:
          type: integer
          format: int32
        avgUnassocClientTx:
          type: integer
          format: int32
        avgAssocClientRx:
          type: integer
          format: int32
        avgUnassocClientRx:
          type: integer
          format: int32
        avgNonWifi:
          type: integer
          format: int32
 
    MinMaxAvgValueIntPerRadioMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        is5GHzU:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        is5GHzL:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        is2dot4GHz:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
      
    IntegerValueMap:
      type: object
      additionalProperties:
        type: integer
    
    UserDetails:
      type: object
      properties:
        totalUsers:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        usersPerRadio:
          $ref: '#/components/schemas/MinMaxAvgValueIntPerRadioMap'
        numGoodEquipment:
          type: integer
          format: int32
        numWarnEquipment:
          type: integer
          format: int32
        numBadEquipment:
          type: integer
          format: int32
        userDevicePerManufacturerCounts:
          $ref: '#/components/schemas/IntegerValueMap'
        totalApsReported:
          type: integer
          format: int32
        indicatorValue:
          type: integer
          format: int32
        indicatorValuePerRadio:
          $ref: '#/components/schemas/IntegerPerRadioTypeMap'
        linkQualityPerRadio:
          $ref: '#/components/schemas/LinkQualityAggregatedStatsPerRadioTypeMap'
        clientActivityPerRadio:
          $ref: '#/components/schemas/ClientActivityAggregatedStatsPerRadioTypeMap'
        
    LinkQualityAggregatedStatsPerRadioTypeMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/LinkQualityAggregatedStats'
        is5GHzU:
          $ref: '#/components/schemas/LinkQualityAggregatedStats'
        is5GHzL:
          $ref: '#/components/schemas/LinkQualityAggregatedStats'
        is2dot4GHz:
          $ref: '#/components/schemas/LinkQualityAggregatedStats'
    
    LinkQualityAggregatedStats:
      properties:
        snr:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        badClientCount:
          type: integer
          format: int32
        averageClientCount:
          type: integer
          format: int32
        goodClientCount:
          type: integer
          format: int32
      
 
    ClientActivityAggregatedStatsPerRadioTypeMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/ClientActivityAggregatedStats'
        is5GHzU:
          $ref: '#/components/schemas/ClientActivityAggregatedStats'
        is5GHzL:
          $ref: '#/components/schemas/ClientActivityAggregatedStats'
        is2dot4GHz:
          $ref: '#/components/schemas/ClientActivityAggregatedStats'
      
    ClientActivityAggregatedStats:
      properties:
        mbps:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        highClientCount:
          type: integer
          format: int32
        mediumClientCount:
          type: integer
          format: int32
        lowClientCount:
          type: integer
          format: int32
    
 
      
    TrafficDetails:
      type: object
      properties:
        perRadioDetails:
          $ref: '#/components/schemas/TrafficPerRadioDetailsPerRadioTypeMap'
        indicatorValueRxMbps:
          #float
          type: number
        indicatorValueTxMbps:
          #float
          type: number
 
    TrafficPerRadioDetailsPerRadioTypeMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/TrafficPerRadioDetails'
        is5GHzU:
          $ref: '#/components/schemas/TrafficPerRadioDetails'
        is5GHzL:
          $ref: '#/components/schemas/TrafficPerRadioDetails'
        is2dot4GHz:
          $ref: '#/components/schemas/TrafficPerRadioDetails'
      
    TrafficPerRadioDetails:
      type: object
      properties:
        minRxMbps:
          #float
          type: number
        maxRxMbps:
          #float
          type: number
        avgRxMbps:
          #float
          type: number
        totalRxMbps:
          #float
          type: number
        minTxMbps:
          #float
          type: number
        maxTxMbps:
          #float
          type: number
        avgTxMbps:
          #float
          type: number
        totalTxMbps:
          #float
          type: number
        numGoodEquipment:
          type: integer
          format: int32
        numWarnEquipment:
          type: integer
          format: int32
        numBadEquipment:
          type: integer
          format: int32
        totalApsReported:
          type: integer
          format: int32
 
 
          
    RadiusDetails:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/StatusCode'
        radiusServerDetails:
          type: array
          items:
            $ref: '#/components/schemas/RadiusServerDetails'
            
    RadiusServerDetails:
      type: object
      properties:
        address:
          type: string
        radiusLatency:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
 
      
    EquipmentPerformanceDetails:
      type: object
      properties:
        avgFreeMemory:
          type: integer
          format: int32
        avgCpuUtilCore1:
          type: integer
          format: int32
        avgCpuUtilCore2:
          type: integer
          format: int32
        avgCpuTemperature:
          type: integer
          format: int32
      
    CapacityDetails:
      type: object
      properties:
        perRadioDetails:
          $ref: '#/components/schemas/CapacityPerRadioDetailsMap'
 
    CapacityPerRadioDetailsMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/CapacityPerRadioDetails'
        is5GHzU:
          $ref: '#/components/schemas/CapacityPerRadioDetails'
        is5GHzL:
          $ref: '#/components/schemas/CapacityPerRadioDetails'
        is2dot4GHz:
          $ref: '#/components/schemas/CapacityPerRadioDetails'
    
    CapacityPerRadioDetails:
      properties:
        totalCapacity:
          type: integer
          format: int32
        availableCapacity:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        unavailableCapacity:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        usedCapacity:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
        unusedCapacity:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
 
    
 
    OperatingSystemPerformance:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - OperatingSystemPerformance
        statusDataType:
          type: string
          enum:
          - OS_PERFORMANCE
        numCamiCrashes:
          type: integer
          format: int32
        uptimeInSeconds:
          type: integer
          format: int64
        avgCpuUtilization:
          #float
          type: number
        avgCpuPerCore:
          type: array
          items:
            #float
            type: number
        avgFreeMemory:
          type: integer
          format: int32
        avgCpuTemperature:          
          #float
          type: number
          
          
 
    RadioUtilizationReport:
      type: object
      properties:
        model_type:
          type: string
          enum:
          - RadioUtilizationReport
        statusDataType:
          type: string
          enum:
          - RADIO_UTILIZATION
        radioUtilization:
          $ref: '#/components/schemas/EquipmentPerRadioUtilizationDetailsMap'
        capacityDetails:
          $ref: '#/components/schemas/EquipmentCapacityDetailsMap'
        avgNoiseFloor:
          $ref: '#/components/schemas/IntegerPerRadioTypeMap'
        
          
    EquipmentPerRadioUtilizationDetailsMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/EquipmentPerRadioUtilizationDetails'
        is5GHzU:
          $ref: '#/components/schemas/EquipmentPerRadioUtilizationDetails'
        is5GHzL:
          $ref: '#/components/schemas/EquipmentPerRadioUtilizationDetails'
        is2dot4GHz:
          $ref: '#/components/schemas/EquipmentPerRadioUtilizationDetails'
          
    EquipmentPerRadioUtilizationDetails:
      type: object
      properties:
        wifiFromOtherBss:
          $ref: '#/components/schemas/MinMaxAvgValueInt'
 
    EquipmentCapacityDetailsMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/EquipmentCapacityDetails'
        is5GHzU:
          $ref: '#/components/schemas/EquipmentCapacityDetails'
        is5GHzL:
          $ref: '#/components/schemas/EquipmentCapacityDetails'
        is2dot4GHz:
          $ref: '#/components/schemas/EquipmentCapacityDetails'
 
    EquipmentCapacityDetails:
      type: object
      properties:
        totalCapacity:
          description:  A theoretical maximum based on channel bandwidth
          type: integer
          format: int32
        availableCapacity:
          description: The percentage of capacity that is available for clients.
          type: integer
          format: int32
        unavailableCapacity:
          description: The percentage of capacity that is not available for clients (e.g. beacons, noise, non-wifi)
          type: integer
          format: int32
        unusedCapacity:
          description: The percentage of the overall capacity that is not being used.
          type: integer
          format: int32
        usedCapacity:
          description: The percentage of the overall capacity that is currently being used by associated clients.
          type: integer
          format: int32
                
#
# Equipment configuration data models
#
 
    EquipmentDetails:
      description: Place to put extended equipment properties.
      type: object
      properties:
        equipmentModel:
          type: string
      oneOf:
        ## TODO: add other equipment types in here
        - $ref: '#/components/schemas/ApElementConfiguration'
      discriminator:
        propertyName: model_type
 
    ActiveScanSettings:
      type: object
      properties:
        enabled:
          type: boolean
        scanFrequencySeconds:
          type: integer
          format: int32
        scanDurationMillis:
          type: integer
          format: int32
 
    AntennaType:
      type: string
      enum:
       - OMNI
       - OAP30_DIRECTIONAL
 
    DeviceMode:
      type: string
      enum:
       - standaloneAP
       - managedAP
       - gatewaywithAP
       - gatewayOnly
 
    DeploymentType:
      type: string
      enum:
        - DESK
        - CEILING
 
    NetworkForwardMode:
      type: string
      enum:
        - BRIDGE
        - NAT
 
    ApElementConfiguration:
      type: object
      properties:
        elementConfigVersion:
          type: string
        equipmentType:
          $ref: '#/components/schemas/EquipmentType'
        deviceMode:
          $ref: '#/components/schemas/DeviceMode'
        gettingIP:
          type: string
          enum:
            - dhcp
            - manual
        staticIP:
          type: string
        staticIpMaskCidr:
          type: integer
        staticIpGw:
          type: string
        gettingDNS:
          type: string
          enum:
            - dhcp
            - manual
        staticDnsIp1:
          type: string
        staticDnsIp2:
          type: string
        peerInfoList:
          type: array
          items:
            $ref: '#/components/schemas/PeerInfo'
        deviceName:
          type: string
        locationData:
          type: string
        locallyConfiguredMgmtVlan:
          type: integer
          format: int32
        locallyConfigured:
          type: boolean
        deploymentType:
          $ref: '#/components/schemas/DeploymentType'
        syntheticClientEnabled:
          type: boolean
        frameReportThrottleEnabled:
          type: boolean
        antennaType:
          $ref: '#/components/schemas/AntennaType'
        costSavingEventsEnabled:
          type: boolean
        forwardMode:
          $ref: '#/components/schemas/NetworkForwardMode'
        radioMap:
           $ref: '#/components/schemas/RadioMap'
        advancedRadioMap:
          $ref: '#/components/schemas/AdvancedRadioMap'
 
    TunnelIndicator:
      type: string
      enum:
        - no
        - primary
        - secondary
        
    PeerInfo:
      properties:
        peerMAC:
          type: array
          items:
            type: integer
            format: byte
            minItems: 6
            maxItems: 6 
        peerIP:
          type: string
        tunnel:
          $ref: '#/components/schemas/TunnelIndicator'
        vlans:
          type: array
          items:
            type: integer
            format: byte
        radiusSecret:
          type: string
 
    RadioMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/ElementRadioConfiguration'
        is5GHzU:
          $ref: '#/components/schemas/ElementRadioConfiguration'
        is5GHzL:
          $ref: '#/components/schemas/ElementRadioConfiguration'
        is2dot4GHz:
          $ref: '#/components/schemas/ElementRadioConfiguration'
 
    ChannelBandwidth:
      description: On 2.4GHz radio only auto or is20MHz values can be used. On 5GHz radio all values can be used. 
      type: string
      enum:
        - auto
        - is20MHz
        - is40MHz
        - is80MHz
        - is160MHz
 
    RadioType:
      type: string
      enum:
        - is5GHz
        - is2dot4GHz
        - is5GHzU
        - is5GHzL
 
    BannedChannel:
      type: object
      properties:
        channelNumber:
          type: integer
          format: int32
        bannedOnEpoc:
          type: integer
          format: int64
 
    AutoOrManualValue:
      type: object
      properties:
        auto:
          type: boolean
        value:
          type: integer
          format: int32
 
    AutoOrManualString:
      type: object
      properties:
        auto:
          type: boolean
        value:
          type: string
      
    BestAPSteerType:
      type: string
      enum:
        - both
        - loadBalanceOnly
        - linkQualityOnly
        
    ChannelPowerLevel:
      type: object
      properties:
        channelNumber:
          type: integer
          format: int32
        powerLevel:
          type: integer
          format: int32
        dfs:
          type: boolean
        channelWidth:
          description: Value is in MHz, -1 means AUTO
          type: integer
          format: int32
        
    NeighbouringAPListConfiguration:
      type: object
      properties:
        minSignal:
          type: integer
          format: int32
        maxAps:
          type: integer
          format: int32
        
 
    ElementRadioConfiguration:
      properties:
        radioType:
          $ref: '#/components/schemas/RadioType'
        channelNumber:
          description: The channel that was picked through the cloud's assigment
          type: integer
          format: int32
        manualChannelNumber:
          description: The channel that was manually entered
          type: integer
          format: int32
        backupChannelNumber:
          description: Backup channel (this is never set by the customer - it's deduced from the primary channel (either manual or auto)
          type: integer
          format: int32
        autoChannelSelection:
          type: boolean
        channelBandwidth:
          $ref: '#/components/schemas/ChannelBandwidth'
        bannedChannels:
          type: array
          items:
            $ref: '#/components/schemas/BannedChannel'
        allowedChannels:
          description: "allowedChannels (Not set by the customer: provided by AP on connection based on regulatory limits by country)"
          type: array
          items:
            type: integer
            format: int32            
        rxCellSizeDb:
          $ref: '#/components/schemas/AutoOrManualValue'
        probeResponseThresholdDb:
          $ref: '#/components/schemas/AutoOrManualValue'
        clientDisconnectThresholdDb:
          $ref: '#/components/schemas/AutoOrManualValue'
        eirpTxPower:
          $ref: '#/components/schemas/AutoOrManualValue'
        bestApEnabled:
          type: boolean
        neighbouringListApConfig:
           $ref: '#/components/schemas/NeighbouringAPListConfiguration'
        minAutoCellSize:
          type: integer
          format: int32
        perimeterDetectionEnabled:
          type: boolean
        bestAPSteerType:  
          $ref: '#/components/schemas/BestAPSteerType'
        deauthAttackDetection:
          type: boolean
        allowedChannelsPowerLevels:
          $ref: '#/components/schemas/ChannelPowerLevel'
 
    AdvancedRadioMap:
      properties:
        is5GHz:
          $ref: '#/components/schemas/RadioConfiguration'
        is5GHzU:
          $ref: '#/components/schemas/RadioConfiguration'
        is5GHzL:
          $ref: '#/components/schemas/RadioConfiguration'
        is2dot4GHz:
          $ref: '#/components/schemas/RadioConfiguration'
 
    StateSetting:
      type: string
      enum:
        - enabled
        - disabled
 
    ManagementRate:
      type: string
      enum:
        - auto
        - rate1mbps
        - rate2mbps
        - rate5dot5mbps
        - rate6mbps
        - rate9mbps
        - rate11mbps
        - rate12mbps
        - rate18mbps
        - rate24mbps
 
    MulticastRate:
      type: string
      enum:
        - auto
        - rate6mbps
        - rate9mbps
        - rate12mbps
        - rate18mbps
        - rate24mbps
        - rate36mbps
        - rate48mbps
        - rate54mbps
 
    RadioMode:
      type: string
      enum:
        - modeN
        - modeAC
        - modeGN
 
    MimoMode:
      type: string
      enum:
        - none
        - oneByOne
        - twoByTwo
        - threeByThree
        - fourByFour
 
    RadioConfiguration:
      properties:
        radioType:
          $ref: '#/components/schemas/RadioType'
        radioAdminState:
          $ref: '#/components/schemas/StateSetting'
        fragmentationThresholdBytes:
          type: integer
          format: int32
        rtsCtsThreshold:
          type: integer
          format: int32
        autoChannelSelection:
          $ref: '#/components/schemas/StateSetting'
        radioMode:
          $ref: '#/components/schemas/RadioMode'
        mimoMode:
          $ref: '#/components/schemas/MimoMode'
        wmmState:
          $ref: '#/components/schemas/StateSetting'
        uapsdState:
          $ref: '#/components/schemas/StateSetting'
        maxNumClients:
          type: integer
          format: int32
        stationIsolation:
          $ref: '#/components/schemas/StateSetting'
        multicastRate:
          $ref: '#/components/schemas/MulticastRate'
        managementRate:
          $ref: '#/components/schemas/ManagementRate'
        activeScanSettings:
          $ref: '#/components/schemas/ActiveScanSettings'
        channelHopSettings:
          $ref: '#/components/schemas/ChannelHopSettings'
        bestApSettings:
          $ref: '#/components/schemas/RadioBestApSettings'
        forceScanDuringVoice:
          $ref: '#/components/schemas/StateSetting'
        legacyBSSRate:
          $ref: '#/components/schemas/StateSetting'
        beaconInterval:
          type: integer
          format: int32
        deauthAttackDetection:
          type: boolean
 
    ObssHopMode:
      type: string
      enum:
        - NON_WIFI
        - NON_WIFI_AND_OBSS
      default: NON_WIFI
 
    RadioBestApSettings:
      description: If mlComputed=true, then dropInSnrPercentage and minLoadFactor properties are populated by ML algorithms. If  mlComputed=false, then those values are supposed to be populated by hand (ML-computed ones will be ignored).
      type: object
      properties:
        mlComputed:
          type: boolean
          default: true
        dropInSnrPercentage:
          type: integer
          format: int32
          default: 10
        minLoadFactor:
          type: integer
          format: int32
          default: 10
          
    ChannelHopSettings:
      description: If noise floor (avg over 4 measurements, measurement interval being 1 sec.) is above -75 dB for more than 3 minutes OR
        If Non WiFi utilization is more than 50% for more than 3 minutes channel will be changed.
      type: object
      properties:
        noiseFloorThresholdInDB:
          type: integer
          format: int32
          default: -75
        noiseFloorThresholdTimeInSeconds:
          type: integer
          format: int32
          default: 180
        nonWifiThresholdInPercentage:
          type: integer
          format: int32
          default: 50
        nonWifiThresholdTimeInSeconds:
          type: integer
          format: int32
          default: 180
        obssHopMode:
          $ref: '#/components/schemas/ObssHopMode'
          
#
# Objects for pagination
#
    SortOrder:
      type: string
      default: asc
      enum:
      - asc
      - desc
    
    SortColumnsSystemEvent:
      type: object
      required:
      - model_type
      - columnName
      - sortOrder
      properties: 
        model_type:
          type: string
          enum:
          - ColumnAndSort
        columnName:
          type: string
          default: equipmentId
          enum: 
          - equipmentId
          - dataType
          - createdTimestamp
        sortOrder:
          $ref: '#/components/schemas/SortOrder'
      example:
        model_type: ColumnAndSort
        columnName: equipmentId
        sortOrder: asc
          
    PaginationContextSystemEvent:
      type: object
      required: 
      - maxItemsPerPage
      properties:
        model_type:
          type: string
          enum:
          - PaginationContext
        maxItemsPerPage:
          type: integer
          format: int32
          default: 20
        lastReturnedPageNumber:
          type: integer
          format: int32
        totalItemsReturned:
          type: integer
          format: int32
        lastPage:
          type: boolean
        cursor:
          type: string
      example: 
        model_type: PaginationContext
        maxItemsPerPage: 10
 
    PaginationResponseSystemEvent:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/SystemEventRecord'
        context:
          $ref: '#/components/schemas/PaginationContextSystemEvent'
 
##-------------------------------------------------------------------------
security:
 - tip_wlan_ts_auth: []
paths:
    
  /api/systemEvent:
    post:
      tags:
      - System Event Data
      summary: Creates new SystemEvent
      operationId: createSystemEvent
      requestBody:
        description: SystemEvent Record
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SystemEventRecord'
      responses:
        200:
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericResponse'
        500: 
          $ref: '#/components/responses/GenericApiError'
    delete:
      tags:
      - System Event Data
      summary: Deletes service metric record
      operationId: deleteServiceMetricRecord
      parameters:
      - name: customerId
        in: query
        description: Customer ID
        required: true
        schema:
          type: integer
          format: int32
      - name: equipmentId
        in: query
        description: Equipment ID
        required: true
        schema:
          type: integer
          format: int64
      - name: createdBeforeTimestamp
        in: query
        description: Created before timestamp
        required: true
        schema:
          type: integer
          format: int64
      responses:
        200:
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericResponse'
        500: 
          $ref: '#/components/responses/GenericApiError'
  
  /api/systemEvent/bulk:
    post:
      tags:
      - System Event Data
      summary: Creates batch of SystemEventRecords
      operationId: createBulkSystemEventRecord
      requestBody:
        description: System Event Records
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/SystemEventRecord'
      responses:
        200:
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GenericResponse'
        500: 
          $ref: '#/components/responses/GenericApiError'
          
  /api/systemEvent/forCustomer:  
    get:
      tags:
      - System Event Data
      summary: Gets system event record for customer
      operationId: getSystemEventRecordForCustomer
      parameters:
      - name: fromTime
        in: query
        description: From Time
        required: true
        schema:
          type: integer
          format: int64
      - name: toTime
        in: query
        description: To Time
        required: true
        schema:
          type: integer
          format: int64
      - name: customerId
        in: query
        description: Customer ID
        required: true
        schema:
          type: integer
          format: int32
      - name: equipmentIds
        in: query
        description: Set of Equipment IDs
        required: false
        content:
          text/plain:
            schema:
              type: array
              items:
                type: integer
                format: int64
      - name: dataTypes
        in: query
        description: Data types
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/SystemEventDataType'
      - name: sortBy
        in: query
        description: sort options
        required: false
        schema:
          type: array
          items:
            $ref: '#/components/schemas/SortColumnsSystemEvent'
      - name: paginationContext
        in: query
        description: pagination context
        required: false
        content:
          application/json:
            schema:
                $ref: '#/components/schemas/PaginationContextSystemEvent'
            examples:
              initialPginationContext:
                value:
                  model_type: PaginationContext
                  maxItemsPerPage: 10
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginationResponseSystemEvent'
        500: 
          $ref: '#/components/responses/GenericApiError'
          
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

